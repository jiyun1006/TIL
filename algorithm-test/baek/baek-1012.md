## ë°±ì¤€ 1012 (ìœ ê¸°ë† ë°°ì¶”) 
> dfsë¥¼ ì´ìš©í•˜ëŠ” ë¬¸ì œ, ì´ì°¨ì› ë°°ì—´ì„ ì´ìš©í•´ì„œ ê·¸ë˜í”„ í˜•ì‹ìœ¼ë¡œ í‘¼ë‹¤.   

<br>

### ğŸ”‹ë¬¸ì œí’€ì´   

- ì£¼ì–´ì§„ ì…ë ¥ë¬¸ì„ ì´ìš©í•´ì„œ, ì¡°ê±´ì— ë§ëŠ” ë°°ì¶” ë°­(ì´ì°¨ì› ë°°ì—´)ì„ ë§Œë“ ë‹¤.    

```js
const createBoard = (strArr) => {
  const [col, row, targetNum] = strArr.shift().split(" ").map((el) => +el);
  const board = Array.from(Array(row), () => new Array(col).fill(0));
  const targetPoint = [];
  for (let i = 0; i < targetNum; i += 1){
    const xy = strArr.shift().split(" ").map((el) => +el).reverse();
    targetPoint.push(xy);
    board[xy[0]][xy[1]] = 1;
  }
  return [board, targetPoint, strArr];
}
```

- ë¨¼ì € 0ìœ¼ë¡œ ê°€ë“ì°¬ ì´ì°¨ì› ë°°ì—´ì„ ë§Œë“ ë‹¤. (ì…ë ¥ë¬¸ì—ì„œ í–‰ê³¼ ì—´ì„ í™•ì¸)    

```js
const board = Array.from(Array(row), () => new Array(col).fill(0));
```    

- ì´í›„ì—, ë°°ì¶”ê°€ ì‹¬ì–´ì§„ ìœ„ì¹˜(ì…ë ¥ë¬¸ì— ì£¼ì–´ì§)ë¥¼ ì´ìš©í•´ì„œ, 1ë¡œ ì±„ì›Œì¤€ë‹¤.   

```js
for (let i = 0; i < targetNum; i += 1){
    const xy = strArr.shift().split(" ").map((el) => +el).reverse();
    targetPoint.push(xy);
    board[xy[0]][xy[1]] = 1;
}
```   

<br>
  
- dfs ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©í•´ì„œ, ì¡°ê±´ì— ë§ê²Œ ë§Œë“  ë°°ì—´ì„ íƒìƒ‰í•œë‹¤.   
  - íƒìƒ‰í•˜ë©´ì„œ ìƒ,í•˜,ì¢Œ,ìš°ë¡œ ì´ì–´ì§„ ë°°ì¶”ë°­ì„ ëŒì•„ë‹¤ë‹ˆë©° 0ìœ¼ë¡œ ë§Œë“ ë‹¤.   

```js

const dfs = (board, target) => {
  const [x, y] = [...target];
  if (board[x][y]) {
    board[x][y] = 0;
    const dx = [0, 0, 1, -1];
    const dy = [1, -1, 0, 0];
    const [maxRow, maxCol] = [board.length, board[0].length];

    for (let i = 0; i < 4; i += 1) {
      let X = dx[i] + x;
      let Y = dy[i] + y;
      if ((X < maxRow && X >= 0) && (Y < maxCol && Y >= 0) && board[X][Y]) {
        dfs(board, [X, Y]);
      }
    }
  }
}
```   

<br>

- ë§Œë“¤ì–´ ë‘” í•¨ìˆ˜ (`createBoard`, `dfs`)ë¥¼ ì´ìš©í•´ì„œ, ë©”ì¸ í•¨ìˆ˜ë¥¼ ì‘ì„±í•œë‹¤.  
- ë°°ì¶”ê°€ ì‹¬ì–´ì§„ ì •ë³´ë¥¼ ì´ìš©í•´ì„œ íƒìƒ‰ì„ ì‹œì‘í•œë‹¤.(`targetPoint`)   
- ì²˜ìŒ `dfs` í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ê¸° ì „ì— í•´ë‹¹ ì¹¸ì´ 1ì´ë¼ë©´, ë°°ì¶”ì§€ë ì´(`ans`)ì˜ ê°œìˆ˜ë¥¼ ëŠ˜ë ¤ì¤€ë‹¤.   
- ì´í›„ì— ë°°ì¶”ê°€ ì‹¬ì–´ì§„ ë°°ì—´ì´ ë¹Œë•Œê¹Œì§€ ê³„ì†í•´ì„œ ì§„í–‰í•œë‹¤.


```js
const solve = (input) => {
  let [board, targetPoint] = [[], []];
  [board, targetPoint, input] = createBoard(input);

  while (targetPoint.length !== 0) {
    const target = targetPoint.shift();
    if(board[target[0]][target[1]]) ans += 1;
    dfs(board, target);
  }
  return ans;
}
```   

<br>

---
>ì „ì²´ì½”ë“œ   

```js
const fs = require("fs");
const filepath = process.platform === 'linux' ? '/dev/stdin' : './ex.txt';


let input = fs.readFileSync(filepath).toString().trim().split('\n');
let testNum = Number(input.shift());
let ans = 0;

const solve = (input) => {
  let [board, targetPoint] = [[], []];
  [board, targetPoint, input] = createBoard(input);

  while (targetPoint.length !== 0) {
    const target = targetPoint.shift();
    if(board[target[0]][target[1]]) ans += 1;
    dfs(board, target);
  }
  return ans;
}

const dfs = (board, target) => {
  const [x, y] = [...target];
  if (board[x][y]) {
    board[x][y] = 0;
    const dx = [0, 0, 1, -1];
    const dy = [1, -1, 0, 0];
    const [maxRow, maxCol] = [board.length, board[0].length];

    for (let i = 0; i < 4; i += 1) {
      let X = dx[i] + x;
      let Y = dy[i] + y;
      if ((X < maxRow && X >= 0) && (Y < maxCol && Y >= 0) && board[X][Y]) {
        dfs(board, [X, Y]);
      }
    }
  }
}

const createBoard = (strArr) => {
  const [col, row, targetNum] = strArr.shift().split(" ").map((el) => +el);
  const board = Array.from(Array(row), () => new Array(col).fill(0));
  const targetPoint = [];
  for (let i = 0; i < targetNum; i += 1){
    const xy = strArr.shift().split(" ").map((el) => +el).reverse();
    targetPoint.push(xy);
    board[xy[0]][xy[1]] = 1;
  }
  return [board, targetPoint, strArr];
}

while (testNum) {
  ans = solve(input);
  console.log(ans);
  testNum -= 1;
  ans = 0;
}


```